<div id="reports">
    <!-- Nav tabs -->
    <!-- Top nav starts  -->
    <nav class="navbar synsormed-navs navbar-inverse" role="tabs">
        <div class="container">
            <!-- Nav brand start -->
            <div class="navbar-header col-md-2">
                <button type="button" class="navbar-toggle" data-toggle="collapse"
                data-target="#collspse-insight-target">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" ><strong>Reports</strong></a>
        </div>
        <!-- Nav brand ends-->
        <!-- Nav menu start-->
        <ul role="tablist" id="collspse-insight-target" class="nav navbar-nav collapse navbar-collapse col-md-10">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
            data-target="#collspse-insight-target">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand report-link"  href="#report-section" aria-controls="report-section" role="tab" data-toggle="tab">Reports</a>
    </ul>
    <!-- Nav menu ends -->

    <div class="alert alert-danger col-md-offset-1 col-md-3" ng-if="licenseMsg" style="padding:8px;margin:10px 0px;float:right;">
      <strong style="padding-left: 35px;">{{licenseMsg}}</strong>
    </div>

</div>
</nav>

<!-- Tab panes -->
<div class="tab-content">
    <div ng-if="user.role == 'Admin'" id="report-section" role="tabpanel" class="tab-pane active" >

        <div class="container pad-tp-35">
            <!-- <div class="col-md-4 text-left">
                <div class="font22">Compliance</div>
                <div class="font13 report-desc">
                    Shows information regarding Education sessions and Bio sessions, so that you can
                    see the total scheduled and completed health sessions for the patient.
                </div>
                <div class="font13">
                    <a href="#compliance" ng-click="loadComplianceReport()" class="non-dec" aria-controls="dashboard" role="tab" data-toggle="tab">Run</a>
                </div>
            </div> -->
            <div class="col-md-6 text-left">
                <div class="font22">RPM Report</div>
                <div class="font13 report-desc">
                    Download RPM Report
                </div>
                <div class="font13">
                    <a ng-click="loadRPMReport()" class="non-dec" aria-controls="dashboard" role="tab" data-toggle="tab">Run</a>
                    <!-- <a href="#summary" class="non-dec" aria-controls="summary" role="tab" data-toggle="tab">Run</a> -->
                </div>
            </div>
        </div>

        <div class="container pad-tp-35">
          <div class="col-md-6 text-left">
            <div class="font22">Billing Report</div>
            <div class="font13 report-desc">
              Download Billing Report
            </div>
            <div class="font13">
              <a ng-click="loadBillingReport()" class="non-dec" aria-controls="dashboard" role="tab" data-toggle="tab">Run</a>
            </div>
          </div>
        </div>

    </div>

    <div ng-if="user.role == 'Admin'" id="compliance" role="tabpanel" class="tab-pane" ng-controller="ComplianceReportController">
        <div class="header">
            <div class="container">
                <div class="col-md-2 text-left"><h3>Compliance</h3></div>
                <div class="col-md-6 text-left form-group">
                    <div ng-if="users.length" class="col-md-8 col-sm-7 col-lg-6 col-xs-12 xs-visible-block clearfix xs-mar-top-10 pad-0">
                        <span class="hidden-xs hidden-sm small-text">Reports for</span>
                        <aura-dropdown class='xs-fl' selected="showUser.id" items="users" key="id" item="name"></aura-dropdown>
                    </div>
                    <div class="col-md-4 col-sm-5 col-lg-6 col-xs-12 xs-visible-block clearfix xs-mar-top-10 pad-0">
                        <span class="small-text">Records</span>
                        <aura-dropdown selected="pagination.pageSize" items="pagination.pageSizes"></aura-dropdown>
                    </div>
                </div>
                <div class="col-md-3 form-group">
                    <div class="row" ng-if="monitors.length">
                        <div class="col-sm-6">
                            <button class="btn btn-primary btn-sm" export-to-pdf="compliance-data" pdf-title="{{reportTitle}}"><strong>Export as PDF</strong></button>
                        </div>
                        <div class="col-sm-6">
                            <button class="btn btn-primary btn-sm" export-to-csv="compliance-data"><strong>Export as CSV</strong></button>
                        </div>
                    </div>
                </div>
                <div class="col-md-1 col-xs-6 text-right form-group">
                    <button class="btn btn-primary btn-sm" ng-click="loadComplianceReport()"><strong>REFRESH</strong></button>
                </div>
            </div>
        </div>
        <div class="container">
            <table class="table table-striped " ng-if="monitors.length" id="compliance-data">
                <thead>
                    <tr>
                        <th class="text-center" ng-click="toggleData()">{{keyOne.text}}</th>
                        <th class="text-center"># of Scheduled EDU Sessions</th>
                        <th class="text-center"># of Completed EDU Sessions</th>
                        <th class="text-center">% Adherence to EDU Schedule</th>
                        <th class="text-center"># of Scheduled BIO Sessions</th>
                        <th class="text-center"># of Completed BIO Sessions</th>
                        <th class="text-center">% Adherence to BIO Schedule</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    <tr ng-repeat="monitor in pagination.finalMonitors">
                        <th scope="row">{{monitor.display | defaultText:'N/A'}}</th>
                        <td>{{monitor.scheduled}}</td>
                        <td>{{monitor.attended}}</td>
                        <td>{{monitor.adherence}}%</td>
                        <td>{{monitor.monitored}}</td>
                        <td>{{monitor.activity}}</td>
                        <td>{{monitor.utilization}}%</td>
                    </tr>
                </tbody>
            </table>
            <alert ng-if="!monitors.length" class="container no-list" type="warning">No Records</alert>
        </div>
        <div ng-if="pagination.finalMonitors.length != 0" class="container text-center">
            <ul class="pagination" ng-if="pageCount != 1">
              <li><span ng-click="pageTurn(-1)" ng-if="showPrevious"><i class="fa fa-arrow-left"></i> Previous</span></li>
              <li ng-repeat="aPage in pages" ng-class="{active: pagination.page == aPage}"><span ng-click="pageTo(aPage)">{{aPage}}</span></li>
              <li><span ng-click="pageTurn(1)" ng-if="showNext">Next <i class="fa fa-arrow-right"></i></span></li>
            </ul>
        </div>
        <div ng-if="pagination.finalMonitors.length != 0" class="container"><small>Viewing page {{pagination.page}} of {{pageCount}}</small></div>
    </div>

    <div ng-if="user.role == 'Admin'" id="summary" role="tabpanel" class="tab-pane" ng-controller="ReportSummaryController">
        <div class="header">
            <div class="container">
                <div class="col-md-8 text-left"><h3>Patient Summaries</h3></div>
                <div class="col-md-4 text-left form-group">
                    <div class="search">
                        <form ng-submit="search()">
                          <input autofocus ng-model="keyword" type="text" class="form-control input-sm" maxlength="64" placeholder="Search patient name or code here" />
                          <button type="submit" class="btn btn-primary btn-sm">Search</button>
                       </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div ng-if="patients && patients.length">
                <h4>Found {{patients.length}} {{patients.length == 1 ? 'result' : 'results'}}</h4>
                <table class="table table-striped table-collapse">
                    <thead>
                        <tr>
                            <th class="text-left">Code</th>
                            <th class="text-left">Patient name</th>
                            <th class="text-left">Action</th>
                        </tr>
                    </thead>
                    <tbody class="text-center">
                        <tr ng-repeat="patient in pagination.finalPatients">
                            <th scope="row">{{patient.patientCode | defaultText:'N/A'}}</th>
                            <td class="text-left">{{patient.patientName | defaultText:'N/A'}}</td>
                            <td class="text-left">
                                <button class="btn btn-secondary btn-sm" ng-click="showSummary(patient.id)">
                                 <i class="fa fa-eye"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div ng-if="pagination.finalPatients.length" class="container text-center">
                <ul class="pagination" ng-if="pageCount != 1">
                    <li><span ng-click="pageTurn(-1)"><i class="fa fa-arrow-left"></i> Previous</span></li>
                    <li ng-repeat="aPage in pages" ng-class="{active: pagination.page == aPage}"><span ng-click="pageTo(aPage)">{{aPage}}</span></li>
                    <li><span ng-click="pageTurn(1)">Next <i class="fa fa-arrow-right"></i></span></li>
                </ul>
            </div>
            <alert ng-if="!searched" class="container no-list" type="info">Please search the patient</alert>
            <alert ng-if="searched && (!patients || !patients.length)" class="container no-list" type="warning">No Results Found</alert>
    </div>
    </div>

</div>

</div>
